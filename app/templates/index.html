<div id="upper_splide_container">
   <h1>Lo más Taggeado</h1>
   <div class="splide splide_tarjeta">
      <div class="splide__arrows">
         <button class="splide__arrow splide__arrow--prev">
            <i class="fas fa-chevron-left"></i>
         </button>
         <button class="splide__arrow splide__arrow--next">
            <i class="fas fa-chevron-right"></i>
         </button>
      </div>
      <div class="splide__track" style="overflow: visible">
         <ul class="splide__list">
            <li class="splide__slide">
               <div class="tarjeta_amal">
                  <div class="tarjeta_amal_perfil">
                     <img src="../../imagen_perfil/455.png" alt="perfil">
                  </div>
                  <div class="tarjeta_amal_izq">
                     <img src="https://images.adsttc.com/media/images/62d1/ec1e/667a/c33c/41c7/13e0/newsletter/vivienda-de-tierra-liquida-oficina-de-arquitectura-x_10.jpg?1657924657" alt="">
                  </div>
                  <div class="tarjeta_amal_der">
                     <div class="tarjeta_amal_der_h">Título articulo</div>
                     <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</div>
                     <div class="tarjeta_amal_cat">
                        Arquitectura
                     </div>
                  </div>
               </div>
            </li>
            <li class="splide__slide">
               <div class="tarjeta_amal">
                  <div class="tarjeta_amal_perfil">
                     <img src="../../imagen_perfil/455.png" alt="perfil">
                  </div>
                  <div class="tarjeta_amal_izq">
                     <img src="https://images.adsttc.com/media/images/62d1/ec1e/667a/c33c/41c7/13e0/newsletter/vivienda-de-tierra-liquida-oficina-de-arquitectura-x_10.jpg?1657924657" alt="">
                  </div>
                  <div class="tarjeta_amal_der">
                     <div class="tarjeta_amal_der_h">titulo del atriculo</div>
                     <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</div>
                     <div class="tarjeta_amal_cat">
                        Arquitectura
                     </div>
                  </div>
               </div>
            </li>
            <li class="splide__slide">
               <div class="tarjeta_amal">
                  <div class="tarjeta_amal_perfil">
                     <img src="../../imagen_perfil/455.png" alt="perfil">
                  </div>
                  <div class="tarjeta_amal_izq">
                     <img src="https://images.adsttc.com/media/images/62d1/ec1e/667a/c33c/41c7/13e0/newsletter/vivienda-de-tierra-liquida-oficina-de-arquitectura-x_10.jpg?1657924657" alt="">
                  </div>
                  <div class="tarjeta_amal_der">
                     <div class="tarjeta_amal_der_h">titulo del atriculo</div>
                     <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</div>
                     <div class="tarjeta_amal_cat">
                        Arquitectura
                     </div>
                  </div>
               </div>
            </li>
            <li class="splide__slide">
               <div class="tarjeta_amal">
                  <div class="tarjeta_amal_perfil">
                     <img src="../../imagen_perfil/455.png" alt="perfil">

                  </div>
                  <div class="tarjeta_amal_izq">
                     <img src="https://images.adsttc.com/media/images/62d1/ec1e/667a/c33c/41c7/13e0/newsletter/vivienda-de-tierra-liquida-oficina-de-arquitectura-x_10.jpg?1657924657" alt="">
                  </div>
                  <div class="tarjeta_amal_der">
                     <div class="tarjeta_amal_der_h">titulo del atriculo</div>
                     <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</div>
                     <div class="tarjeta_amal_cat">
                        Arquitectura
                     </div>
                  </div>
               </div>
            </li>
            <li class="splide__slide">
               <div class="tarjeta_amal">
                  <div class="tarjeta_amal_perfil">
                     <img src="../../imagen_perfil/455.png" alt="perfil">
                  </div>
                  <div class="tarjeta_amal_izq">
                     <img src="https://images.adsttc.com/media/images/62d1/ec1e/667a/c33c/41c7/13e0/newsletter/vivienda-de-tierra-liquida-oficina-de-arquitectura-x_10.jpg?1657924657" alt="">
                  </div>
                  <div class="tarjeta_amal_der">
                     <div class="tarjeta_amal_der_h">titulo del atriculo</div>
                     <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</div>
                     <div class="tarjeta_amal_cat">
                        Arquitectura
                     </div>
                  </div>
               </div>
            </li>
            <li class="splide__slide">
               <div class="tarjeta_amal">
                  <div class="tarjeta_amal_perfil">
                     <img src="../../imagen_perfil/455.png" alt="perfil">
                  </div>
                  <div class="tarjeta_amal_izq">
                     <img src="https://images.adsttc.com/media/images/62d1/ec1e/667a/c33c/41c7/13e0/newsletter/vivienda-de-tierra-liquida-oficina-de-arquitectura-x_10.jpg?1657924657" alt="">
                  </div>
                  <div class="tarjeta_amal_der">
                     <div class="tarjeta_amal_der_h">titulo del atriculo</div>
                     <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</div>
                     <div class="tarjeta_amal_cat">
                        Arquitectura
                     </div>
                  </div>
               </div>
            </li>
            <li class="splide__slide">
               <div class="tarjeta_amal">
                  <div class="tarjeta_amal_perfil">
                     <img src="../../imagen_perfil/455.png" alt="perfil">
                  </div>
                  <div class="tarjeta_amal_izq">
                     <img src="https://images.adsttc.com/media/images/62d1/ec1e/667a/c33c/41c7/13e0/newsletter/vivienda-de-tierra-liquida-oficina-de-arquitectura-x_10.jpg?1657924657" alt="">
                  </div>
                  <div class="tarjeta_amal_der">
                     <div class="tarjeta_amal_der_h">titulo del atriculo</div>
                     <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</div>
                     <div class="tarjeta_amal_cat">
                        Arquitectura
                     </div>
                  </div>
               </div>
            </li>
         </ul>
      </div>
   </div>
</div>


<div class="maybe_follow_container">
   <div class="header_mf_container"><span>Personas que quizas podes seguir</span></div>
   <div class="splide_mf_container">
      <div class="splide splide_maybe_follow">
         <div class="splide__arrows">
            <button class="splide__arrow splide__arrow--prev">
               <i class="fas fa-chevron-left"></i>
            </button>
            <button class="splide__arrow splide__arrow--next">
               <i class="fas fa-chevron-right"></i>
            </button>
         </div>
         <div class="splide__track" style="overflow: visible">
            <ul class="splide__list">
               <li class="splide__slide">
                  <div class="tarjeta_mf_container">
                     <div class="mf_img_perfil"><img src="../../imagen_perfil/455.png" alt="perfil"></div>
                     <div class="tarjeta_mf">
                        <div class="mf_text">nico_gomez_94</div>
                        <div class="mf_label">Siguiendo</div>
                     </div>
                  </div>
               </li>
               <li class="splide__slide">
                  <div class="tarjeta_mf_container">
                     <div class="mf_img_perfil"><img src="../../imagen_perfil/455.png" alt="perfil"></div>
                     <div class="tarjeta_mf">
                        <div class="mf_text">nico_gomez_94</div>
                        <div class="mf_label">Siguiendo</div>
                     </div>
                  </div>
               </li>
               <li class="splide__slide">
                  <div class="tarjeta_mf_container">
                     <div class="mf_img_perfil"><img src="../../imagen_perfil/455.png" alt="perfil"></div>
                     <div class="tarjeta_mf">
                        <div class="mf_text">nico_gomez_94</div>
                        <div class="mf_label">Siguiendo</div>
                     </div>
                  </div>
               </li>
               <li class="splide__slide">
                  <div class="tarjeta_mf_container">
                     <div class="mf_img_perfil"><img src="../../imagen_perfil/455.png" alt="perfil"></div>
                     <div class="tarjeta_mf">
                        <div class="mf_text">nico_gomez_94</div>
                        <div class="mf_label">Siguiendo</div>
                     </div>
                  </div>
               </li>
               <li class="splide__slide">
                  <div class="tarjeta_mf_container">
                     <div class="mf_img_perfil"><img src="../../imagen_perfil/455.png" alt="perfil"></div>
                     <div class="tarjeta_mf">
                        <div class="mf_text">nico_gomez_94</div>
                        <div class="mf_label">Siguiendo</div>
                     </div>
                  </div>
               </li>
               <li class="splide__slide">
                  <div class="tarjeta_mf_container">
                     <div class="mf_img_perfil"><img src="../../imagen_perfil/455.png" alt="perfil"></div>
                     <div class="tarjeta_mf">
                        <div class="mf_text">nico_gomez_94</div>
                        <div class="mf_label">Siguiendo</div>
                     </div>
                  </div>
               </li>
            </ul>
         </div>
      </div>
   </div>
</div>

<div class="board">
   <!--  -->
<!--  -->
<!--  -->
<!--  -->
   <!-- <div id="col-flotante">
      <div class="item item-cat-3152">
         <div class="titulo-col-cont" onclick="window.location.replace('https://taggeon.com/ampliar-publicacion-home.html?accion=ampliar&amp;cat=3152')">
         <div class="titulo-col random-p-0"><span class="span-titulo">COCINA NORDICO</span></div>
         </div>
         <div>
   <div class="content-col-div content-col-div-331 cat-31">
         <div class="overlay-public">
         <a class="link-ampliar-home" href="/ampliar-publicacion-home.html?id=331&amp;accion=ampliar&amp;cat=31"></a>
         <div class="public-title-home">Vintage Nro. 2</div>
            <div class="text-overlay">
               <span class="text-overlay-link share-sm" onclick="pathShareHome('/ampliar-publicacion-home.html?id=331&amp;accion=ampliar&amp;cat=31')">
                     <i class="fas fa-share-alt"></i>
               </span>
               <span class="text-overlay-link"><i class="fas fa-star fav-alta" onclick="toggleFav(331,'alta',this)"></i></span>
            </div>
         </div>
         <img src="/publicaciones_img/302.png" alt="img-302">
   </div>
   </div><div>
   <div class="content-col-div content-col-div-334 cat-31">
         <div class="overlay-public">
         <a class="link-ampliar-home" href="/ampliar-publicacion-home.html?id=334&amp;accion=ampliar&amp;cat=31"></a>
         <div class="public-title-home">Diseño Nordico</div>
            <div class="text-overlay">
               <span class="text-overlay-link share-sm" onclick="pathShareHome('/ampliar-publicacion-home.html?id=334&amp;accion=ampliar&amp;cat=31')">
                     <i class="fas fa-share-alt"></i>
               </span>
               <span class="text-overlay-link"><i class="fas fa-star fav-alta" onclick="toggleFav(334,'alta',this)"></i></span>
            </div>
         </div>
         <img src="/publicaciones_img/305.png" alt="img-305">
   </div>
   </div><div>
   <div class="content-col-div content-col-div-336 cat-31">
         <div class="overlay-public">
         <a class="link-ampliar-home" href="/ampliar-publicacion-home.html?id=336&amp;accion=ampliar&amp;cat=31"></a>
         <div class="public-title-home">Nordico Nro. 91</div>
            <div class="text-overlay">
               <span class="text-overlay-link share-sm" onclick="pathShareHome('/ampliar-publicacion-home.html?id=336&amp;accion=ampliar&amp;cat=31')">
                     <i class="fas fa-share-alt"></i>
               </span>
               <span class="text-overlay-link"><i class="fas fa-star fav-alta" onclick="toggleFav(336,'alta',this)"></i></span>
            </div>
         </div>
         <img src="/publicaciones_img/307.png" alt="img-307">
   </div>
   </div></div>
</div> -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
   <div class="items">
      <div class="splide splide__home">
         <div class="splide__arrows">
            <button class="splide__arrow splide__arrow--prev">
               <i class="fas fa-chevron-left"></i>
            </button>
            <button class="splide__arrow splide__arrow--next">
               <i class="fas fa-chevron-right"></i>
            </button>
         </div>
         <div class="splide__track">
            <ul class="splide__list splide__list__home"></ul>
         </div>
      </div>
   </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function(){

   // Event listener for the scroll event
window.addEventListener("scroll", handleScroll);

   let splide_test = new Splide( '.splide__home', {
            type     : 'slide',
            perPage: 2,
            autoWidth: true,
            pagination: false,
            autoHeight: true
        } ).mount();

   var columnas_length = columnas.length;

   for(var x=0; x<columnas_length; x++){

      let categoria_estilo = columnas[x].categoria_estilo || "";
      let id_categoria = columnas[x].id_categoria || 0;
      let nombre_cat = columnas[x].nombre_cat || "";
      let estilo_id = columnas[x].estilo_id || 0;
      let nombre_estilo = columnas[x].nombre_estilo || "";
      let nombre_full = nombre_cat + " " + nombre_estilo;

      const globos_html = `<li class="splide__slide item item-cat-${id_categoria}">
         <div class="titulo-col-cont" onclick="window.location.replace('${window.location.href}ampliar-publicacion-home.html?accion=ampliar&cat=1')">
         <div class="titulo-col random-p-${x}"><span class="span-titulo">${nombre_full}</span></div>
         </div>
      </li>`

      $(".splide__list__home").append(globos_html)
      
      const dataPaging = {
         cantidad : 0,
         estilo_id: estilo_id,
         escena: "arquitectura",
         cat: id_categoria
      }
      getDataIndex(dataPaging);

   }

   /**random colors */
   // obtén todos los elementos con el tag deseado
   const tags = document.querySelectorAll('.titulo-col');
   
   // genera un color aleatorio
   function getRandomColor() {
      const letters = '0123456789ABCDEF';
      let color = '#';
      for (let i = 0; i < 6; i++) {
         color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
   }
   
   // asigna un color aleatorio a cada tag
   tags.forEach(tag => {
      tag.style.borderColor = getRandomColor();
   });

});

// Function to check if the user has reached the bottom of the page
function isBottomReached() {
  // Calculate the scroll position and viewport height
  var scrollPosition = window.pageYOffset;
  var windowHeight = window.innerHeight;
  // Calculate the total height of the page
  var documentHeight = document.documentElement.scrollHeight;
  
  // Check if the user has reached the bottom of the page
  return (scrollPosition + windowHeight) >= documentHeight;
}

// Function to perform an action when the user reaches the bottom
function handleScroll() {
  if (isBottomReached()) {
   var columnas_length = columnas.length;

   for(var x=0; x<columnas_length; x++){
      let id_categoria = columnas[x].id_categoria || 0;
      let estilo_id = columnas[x].estilo_id || 0;
      
      const dataPaging = {
         cantidad : 1,
         estilo_id: estilo_id,
         escena: "arquitectura",
         cat: id_categoria
      }
      getDataIndex(dataPaging);
   }
  }
}
</script>


